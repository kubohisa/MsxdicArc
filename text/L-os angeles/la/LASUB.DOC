-	-	-	-	-	-	-	-	-	-

		ＬＡのサブルーチン一覧表

		Ｓ−ＯＳ互換サブルーチン

-	-	-	-	-	-	-	-	-	-


<シンボル名>		<アドレス>	<破壊>

＃ＣＯＬＤ		＄１ＦＦＤ	−

	ＬＡのコールドスタート。ワークエリアの＃ＵＳＲに格納されているアドレス

	にジャンプする


＃ＨＯＴ		＄１ＦＦＡ	−

	ＬＡのコマンドシェル。コマンド入力待ちになる


＃ＶＥＲ		＄１ＦＦ７	ＨＬ

	ＨＬレジスタに機種とバージョンを返す

		返り値：	H=<機種>

				L=<バージョン>

	ＨレジスタはＸ１版は通常＄２０、BIOS-ROMを使用している場合＄２１

	MSX-DOS版は＄Ａ０

	Ｌレジスタは bit7 が１ならばＬＡである事を示し

	bit6〜bit0は１の時にその機能をサポートしている事を示す

			bit7：ＬＡ
			bit6：漢字
		bit5 〜 bit1：未使用
			bit0：２ＨＤ

	返り値は以下のようになる

	Ｘ１		＄２０８０
	Ｘ１ｔｕｒｂｏ	＄２０８１
	X1turbo+KANJI	＄２１Ｃ１
	ＭＳＸ−ＤＯＳ	＄Ａ０８０

＃ＰＲＩＮＴ		＄１ＦＦ４	Ｆ

	Ａレジスタの内容をアスキーコードとみなし表示する。（１文字表示）


＃ＰＲＮＴＳ		＄１ＦＦ１	Ｆ

	スペースをひとつ表示する


＃ＬＴＮＬ		＄１ＦＥＥ	なし

	改行する


＃ＮＬ			＄１ＦＥＢ	なし

	カーソルが行の先頭になければ改行する


＃ＭＳＧ		＄１ＦＥ８	Ｆ

	ＤＥレジスタの示すアドレスから＄０Ｄがあるまでアスキーコードとみなし

	文字列表示する


＃ＭＳＸ		＄１ＦＥ５	Ｆ

	ＤＥレジスタの示すアドレスから＄００があるまでアスキーコードとみなし

	文字列表示する


＃ＭＰＲＮＴ		＄１ＦＥ２	ＡＦ

	これをコールした次のアドレスから＄００があるまでアスキーコードとみなし

	文字列表示する

	　例）	CALL	#MPRNT
		DM	"MESSAGE"
		DB	0


＃ＴＡＢ		＄１ＦＤＦ	ＡＦ

	Ｂレジスタの値とカーソルＸ座標との差だけスペースを表示する


＃ＬＰＲＮＴ		＄１ＦＤＣ	ＡＦ

	Ａレジスタの内容をアスキーコードとみなしプリンタに出力する。

	エラーがあった場合はキャリフラグがセットされる


＃ＬＰＴＯＮ		＄１ＦＤ９	−

	Ｒｅｓｅｒｖｅｄ　Ｆｕｔｕｒｅ


＃ＬＰＴＯＦＦ		＄１ＦＤ６	−

	Ｒｅｓｅｒｖｅｄ　Ｆｕｔｕｒｅ


＃ＧＥＴＬ		＄１ＦＤ３	ＡＦ

	ＤＥレジスタにキー入力バッファの先頭アドレスを入れてコールすると、キー

	ボードから１行入力して文字列をバッファに格納しリターンする。

	エンドコードは＄００

	途中で [SHIFT]+[BREAK] が 押されたら、バッファ先頭に＄１Ｂが格納される


＃ＧＥＴＫＹ		＄１ＦＤ０	ＡＦ

	キーボードからリアルタイムキー入力をする。

	入力したデータはＡレジスタに格納され、何も押されていないときはＡレジスタ

	に＄００がセットされる


＃ＢＲＫＥＹ		＄１ＦＣＤ	ＡＦ

	[SHIFT]+[BREAK]か[ESC]が押されているかチェックする。

	押されているときにはゼロフラグがセットされる


＃ＩＮＫＥＹ		＄１ＦＣＡ	ＡＦ

	何かキーを押すまでキー入力待ちをし、キー入力があるとＡレジスタにセット

	されリターンする


＃ＰＡＵＳＥ		＄１ＦＣ７	ＡＦ

	スペースが押されていれば、再び何かキーを押すまでリターンしない。

	このとき[SHIFT]+[BREAK]か[ESC]を押すと、このルーチンをコールした次の

	アドレスの２バイトの内容を参照しそこにジャンプする。

	　例）	CALL	#PAUSE
		DW	BRKJOB

	ここでブレイクキーを押すとBRKJOBへジャンプ、さもなくばDW BRKJOBはスキッ

	プする。


＃ＢＥＬＬ		＄１ＦＣ４	ＡＦ

	ベル（ビープ音）を鳴らす


＃ＰＲＴＨＸ		＄１ＦＣ１	ＡＦ

	Ａレジスタの内容を１６進数２桁で表示する


＃ＰＲＴＨＬ		＄１ＦＢＥ	ＡＦ

	ＨＬレジスタの内容を１６進数４桁で表示する


＃ＡＳＣ		＄１ＦＢＢ	ＡＦ

	Ａレジスタの下位４ビットの値を１６進数を表すアスキーコードに変換し

	Ａレジスタにセットする


＃ＨＥＸ		＄１ＦＢ８	ＡＦ

	Ａレジスタの内容を１６進数を表すアスキーコードとしてバイナリに変換し

	Ａレジスタにセットする。

	エラーの場合はキャリフラグがセットされる


＃２ＨＥＸ		＄１ＦＢ５	ＡＦ	ＤＥ

	ＤＥレジスタの示すアドレスの内容を１６進数を表すアスキーコードとして

	バイナリに変換し、Ａレジスタにセットする。

	エラーがあった場合はキャリフラグがセットされる


＃ＨＬＨＥＸ		＄１ＦＢ２	ＡＦ	ＤＥＨＬ

	ＤＥレジスタに示すアドレスの内容を１６進数を示すアスキーコードとして

	バイナリに変換し、ＨＬレジスタにセットする。

	エラーがあったの場合はキャリフラグがセットされる


＃ＷＯＰＥＮ		＄１ＦＡＦ	ＡＦＢＣＤＥＨＬ

	#FILEでセットされたファイルを書き込みモードでオープンする


＃ＷＲＤ		＄１ＦＡＣ	ＡＦＢＣＤＥＨＬ

	(#DTADR),(#SIZE),(#EXADR)に従ってデバイスにデータをセーブする


＃ＦＣＢ		＄１ＦＡ９	−

	サポートしていません


＃ＲＤＤ		＄１ＦＡ６	ＡＦＢＣＤＥＨＬ

	(#DTADR),(#SIZE),(#CLPS)に従ってデバイス上のファイルを読み込む。


＃ＦＩＬＥ		＄１ＦＡ３	ＡＦＢＣＤＥＨＬ

	Ａレジスタにファイルのアトリビュート（ビット０がＬＡバイナリフラグ）

	ＤＥレジスタにファイル名の入っている先頭アドレスをセットしコールすると

	(#IBFAD)+1 にファイル名のセットと (#DSK) にドライブ名のセットを行なう。

	ファイルを操作する前には必ずこのサブルーチンによりファイル名をセットする


＃ＦＳＡＭＥ		＄１ＦＡ０	−

	サポートしていません


＃ＦＰＲＮＴ		＄１Ｆ９Ｄ	ＡＦＢＣＤＥＨＬ

	ファイルネームを表示する


＃ＰＯＫＥ		＄１Ｆ９Ａ	なし

	ＨＬレジスタをオフセットアドレスとして、

	特殊ワークエリアにＡレジスタの内容を書き込む


＃ＰＯＫＥ＠		＄１Ｆ９７	ＡＦＢＣＤＥＨＬ

	メインメモリから特殊ワークエリアにデータを転送する。

	引　数：	HL=<メモリ先頭アドレス>

			DE=<ワークエリアオフセットアドレス>

			BC=<バイト数>


＃ＰＥＥＫ		＄１Ｆ９４	ＡＦ

	ＨＬレジスタをオフセットアドレスとして、

	特殊ワークエリアからＡレジスタにデータを読み出す。

		＃ＰＯＫＥの逆の動作


＃ＰＥＥＫ＠		＄１Ｆ９１	ＡＦＢＣＤＥＨＬ

	特殊ワークエリアからメインメモリにデータを転送する。

	引　数：	HL=<メモリ先頭アドレス>

			DE=<ワークエリアオフセットアドレス>

			BC=<バイト数>


＃ＭＯＮ		＄１Ｆ８Ｅ	−

	モニタにジャンプにする


［ＨＬ］		＄１Ｆ８１	なし

	ＨＬにコールしたいアドレスを入れ

	CALL	[HL]

	と使うことにより、擬似的なレジスタ間接コールが可能


＃ＧＥＴＰＣ		＄１Ｆ８０	ＨＬ

	現在のプログラムカウンタの内容をＨＬにコピーする


＃ＤＲＤＳＢ		＄２０００	Ｆ

	ＬＡでは使わない。キャリフラグをセットしてリターンする


＃ＤＷＴＳＢ		＄２００３	Ｆ

	ＬＡでは使わない。キャリフラグをセットしてリターンする


＃ＤＩＲ		＄２００６	ＡＦＢＣＤＥＨＬ

	(#DSK)で指定されたデバイス上のディレクトリを表示する


＃ＲＯＰＥＮ		＄２００９	ＡＦＢＣＤＥＨＬ

	読み込み用のオープン

	#FILE でセットされたファイルがディレクトリ上にあるかチェックを行う。

	ファイルの情報は(#DTADR),(#SIZE),(#EXADR),(#SIZEH),(#CLPS)に転送され、

	ゼロフラグをセットしてリターンする

	検索されるファイルが無い場合キャリフラグがセットされゼロフラグがリセッ

	トされリターンしそれ以外のエラーがあった場合はキャリフラグとゼロフラグ

	がセットされリターンする。


＃ＳＥＴ		＄２００Ｃ	−

	Ｒｅｓｅｒｖｅｄ　Ｆｕｔｕｒｅ


＃ＲＥＳＥＴ		＄２００Ｆ	−

	Ｒｅｓｅｒｖｅｄ　Ｆｕｔｕｒｅ


＃ＮＡＭＥ		＄２０１２	ＡＦＢＣＤＥＨＬ

	#FILE でセットされたファイル名をＤＥレジスタが示すメモリ上のデータに変

	える。


＃ＫＩＬＬ		＄２０１５	ＡＦＢＣＤＥＨＬ

	#FILE でセットされたファイル名に適合する全てのファイルを削除する。

	（ワイルドカード可）


＃ＣＳＲ		＄２０１８	ＨＬ

	現在のカーソル位置をＨレジスタにＹ座標、ＬレジスタにＸ座標にセットする


＃ＳＣＲＮ		＄２０１Ｂ	ＡＦ

	ＨレジスタにＹ座標、ＬレジスタにＸ座標をセットしてコールすると画面上の

	同位置にあるキャラクタをＡに読み出す


＃ＬＯＣ		＄２０１Ｅ	ＡＦ

	ＨレジスタにＹ座標、ＬレジスタにＸ座標をセットしてコールすると、カーソ

	ル位置がそこにセットされる。


＃ＦＬＧＥＴ		＄２０２１	ＡＦ

	カーソル位置で、カーソル点滅１文字入力を行い、Ａに押されたキャラクタを

	セット。画面へのエコーバックは行わない


＃ＲＤＶＳＷ		＄２０２４	Ａ

	カレントドライブをＡレジスタに読み出す


＃ＳＤＶＳＷ		＄２０２７	ＡＦ

	カレントにしたいドライブ名をＡレジスタに入れコールするとカレントドライ

	ブがセットされる。


＃ＩＮＰ		＄２０２Ａ	−

	Ｒｅｓｅｒｖｅｄ　Ｆｕｔｕｒｅ


＃ＯＵＴ		＄２０２Ｄ	−

	Ｒｅｓｅｒｖｅｄ　Ｆｕｔｕｒｅ


＃ＷＩＤＣＨ		＄２０３０	ＡＦＢＣＤＥＨＬ

	画面のモード（４０字，８０字）を切り換える。Ａレジスタに４０以下の値を

	セットすると４０字、それ以上の場合８０字となる。現在のモードは(#WIDTH)

	に入っている


＃ＥＲＲＯＲ		＄２０３３	ＡＦＢＣＤＥＨＬ

	エラーメッセージ（Ｅｒｒｏｒ！）を表示する


-	-	-	-	-	-	-	-	-	-

	Ｌ−ｏｓ　Ａｎｇｅｌｅｓ

	ＬＡオリジナルサブルーチン

-	-	-	-	-	-	-	-	-	-


＃ＳＹＳＴＥＭ		＄２０３Ｄ	−

	拡張システムコール

	Ａレジスタにファンクション番号を入れて呼び出す。

	そのファンクションがサポートされてない場合はキャリフラグがセットされる

	（Ｒｅｓｅｒｖｅｄ　Ｆｕｔｕｒｅ）


＃ＤＲＤＣ		＄２０４０	ＡＦＢＣＤＥＨＬ

	ＤＥレジスタが示すレコード番号からＨＬレジスタが示すアドレスにデバイス

	から１クラスタ（１０２４バイト）読み込む。

	コールされるとＤＥレジスタには次のレコード番号、ＨＬレジスタには次のア

	ドレスがセットされる。

	エラーの場合はキャリフラグがセットされる


＃ＤＷＴＣ		＄２０４３	ＡＦＢＣＤＥＨＬ

	ＨＬレジスタが示すアドレスからＤＥレジスタが示すレコード番号にデバイス

	へ１クラスタ（１０２４バイト）書き込む。

	コールされるとＤＥレジスタには次のレコード番号、ＨＬレジスタには次のア

	ドレスがセットされる。

	エラーの場合はキャリフラグがセットされる


＃ＧＮＣＬ		＄２０４６	ＡＦＢＣＤＥＨＬ

	ＦＡＴバッファからＤＥレジスタの示すクラスタをＤＥレジスタに読み出す。


＃ＳＮＣＬ		＄２０４９	ＡＦＢＣＤＥＨＬ

	ＦＡＴバッファにＤＥレジスタの示すクラスタにＨＬレジスタの値を書き込む


＃ＭＯＴＯＦＦ		＄２０４Ｃ	なし

	デバイスのモーターを止める


＃ＣＬＵＳＴ		＄２０４Ｆ	ＡＦ	ＤＥ

	ＤＥレジスタにクラスタ番号を入れてコールすると対応するレコード番号が

	ＤＥレジスタにセットされる。


＃ＤＲＤ		＄２０５２	ＡＦＢＣＤＥＨＬ

	ＤＥレジスタの示すレコード番号からＨＬレジスタが示すアドレスにフロッピ

	ーディスクから１レコード読み込む。コールされるとＤＥレジスタには次のレ

	コード番号、ＨＬレジスタには次のアドレスがセットされる。

	使用する場合は必ずデバイスをフロッピーにしておくこと。

	エラーの場合はキャリフラグがセットされる

	（通常は＃ＤＲＤＣを使って下さい。）


＃ＤＷＴ		＄２０５５	ＡＦＢＣＤＥＨＬ

	ＨＬレジスタが示すアドレスからＤＥレジスタが示すレコード番号にフロッピ

	ーディスクへ１レコード書き込む。コールされるとＤＥレジスタには次のレコ

	ード番号、ＨＬレジスタには次のアドレスがセットされる。

	使用する場合は必ずデバイスをフロッピーにしておくこと。

	エラーの場合はキャリフラグがセットされる

	（通常は＃ＤＷＴＣを使って下さい。）


＃ＲＤＩＤ		＄２０５８	ＡＦＢＣＤＥＨＬ

	ＤＥレジスタが示すレコードのあるトラックのＩＤフィールドをＨＬレジスタ

	の示すアドレスに１つ読み出す。

	エラーの場合はキャリフラグがセットされる

	使用する場合は必ずデバイスをフロッピーにしておくこと。


＃ＷＴＴＲＫ		＄２０５Ｂ	ＡＦＢＣＤＥＨＬ

	ＨＬレジスタの示すアドレスのデータでＤＥレジスタが示すレコードのあるト

	ラックに物理フォーマットする。

	エラーの場合はキャリフラグがセットされる

	使用する場合は必ずデバイスをフロッピーにしておくこと。


＃ＲＤＤＸ		＄２０５Ｅ	ＡＦＢＣＤＥＨＬ

	(#DTADR),(#CLPS)に従ってデバイス上のファイルをＢレジスタの示すクラスタ

	分だけ読み込む。

	ファイルのデータを全て読み込んだ場合ゼロフラグがリセットされる。

	エラーの場合はキャリフラグがセットされる


＃ＷＲＤＸ		＄２０６１	ＡＦＢＣＤＥＨＬ

	(#DTADR),(#CLPS)に従ってデバイスにＢレジスタの示すクラスタ分だけＦＡＴ

	を確保し書き込む（#WRDF+#WRDD）

	ファイルのデータを全て書き込んだ場合ゼロフラグがリセットされる。

	エラーの場合はキャリフラグがセットされる


＃ＷＲＤＦ		＄２０６４	ＡＦＢＣＤＥＨＬ

	ＦＡＴバッファにＢレジスタの示すクラスタ分だけＦＡＴを確保する。

	ファイル先頭クラスタは（#IBFAD)+$1B にセットされる。

	エラーの場合キャリフラグがセットされる


＃ＷＲＤＤ		＄２０６７	ＡＦＢＣＤＥＨＬ

	#WRDFで確保されたＦＡＴと(#DTADR)に従ってデバイス上のファイルに

	ＤＥレジスタの示すクラスタからＢレジスタの示すクラスタ分だけ書き込む。

	ファイルのデータを全て書き込んだ場合ゼロフラグがリセットされる。

	エラーの場合はキャリフラグがセットされる


＃ＣＨＧＤＲＶ		＄２０６Ａ	なし

	Ａレジスタにアクセスしたいドライブ名を入れてコールするとアクセスするデ

	バイスを変更する。


＃ＤＳＫＦ		＄２０６Ｄ	ＡＦＢＣＤＥＨＬ

	読み込まれているＦＡＴバッファにしたがってＨＬレジスタにデバイスの残り

	クラスタがセットされる。


＃ＦＧＥＴＣ		＄２０７０	ＡＦ

	Ａレジスタに #FILE,#ROPEN(#NROPEN)でファイルをオープンしたファイルから

	１バイト入力する。

	読み込むデータが底をつくとキャリフラグをセットしゼロフラグをリセットし

	てリターンしそれ以外のエラーがあるとキャリフラグとゼロフラグがセットさ

	れる。


＃ＤＲＤＷ		＄２０７３	ＡＦＢＣＤＥＨＬ

	ＤＥレジスタの示すレコード番号からＨＬレジスタが示すアドレスにフロッピ

	ーディスクから２レコード読み込む。コールされるとＤＥレジスタには次のレ

	コード番号、ＨＬレジスタには次のアドレスがセットされる。

	使用する場合は必ずデバイスをフロッピーにしておくこと。

	エラーの場合はキャリフラグがセットされる

	（通常は＃ＤＲＤＣを使って下さい。）


＃ＤＷＴＷ		＄２０７６	ＡＦＢＣＤＥＨＬ

	ＨＬレジスタが示すアドレスからＤＥレジスタが示すレコード番号にフロッピ

	ーディスクへ２レコード書き込む。コールされるとＤＥレジスタには次のレコ

	ード番号、ＨＬレジスタには次のアドレスがセットされる。

	使用する場合は必ずデバイスをフロッピーにしておくこと。

	エラーの場合はキャリフラグがセットされる

	（通常は＃ＤＷＴＣを使って下さい。）


＃ＦＩＬＥＸ		＄２０７９	ＡＦＢＣＤＥＨＬ

	＃ＦＩＬＥとほぼ同じだが、ファイルタイプの設定とドライブ名を指定しなか

	った時にカレントではなく現在アクセスしているドライブを指定する点が違う


＃ＦＩＬＥＤ		＄２０７Ｃ	ＡＦＢＣＤＥＨＬ

	＃ＦＩＬＥＸとほぼ同じだが、ドライブ名や通過パスを指定出来ない


＃ＤＩＲＸ		＄２０７Ｆ	ＡＦＢＣＤＥＨＬ

	＃ＦＩＬＥでセットしたファイルに一致するファイルの一覧表示


＃ＦＮＡＭＥＸ		＄２０８２	ＡＦＢＣＤＥＨＬ

	ＨＬレジスタの示すディレクトリエントリの内容を表示する


＃ＤＥＶＡＤＲ		＄２０８５	ＡＦ		　　ＩＹ

	(#DSK)の示すドライブのＤＰＢの先頭アドレスをＩＹに得る。

	ドライブが使用されていないときにはキャリフラグがセットされる


＃ＤＥＶＡＤＸ		＄２０８８	ＡＦ		　　ＩＹ

	Ａレジスタの示すドライブのＤＰＢの先頭アドレスをＩＹに得る。

	ドライブが使用されていないときにはキャリフラグがセットされる


＃ＣＨＫＡＴＴ		＄２０８Ｂ	ＡＦ	ＤＥＨＬ

	ＨＬレジスタの示すディレクトリエントリのファイルの属性が書き込み出来る

	かチェックする。できない時はキャリフラグがセットされる。


＃ＫＩＬＬＳ		＄２０８Ｅ	ＡＦＢＣＤＥＨＬ

	ＨＬレジスタの示すディレクトリエントリのファイルの削除をする。

	このルーチンではデバイスに書き込みをしない


＃ＫＩＬＬＳＸ		＄２０９１	ＡＦＢＣＤＥＨＬ

	＃ＫＩＬＬＳとほとんど同じだがファイルの属性チェックをしない。


＃ＷＯＰＥＮＸ		＄２０９４	ＡＦＢＣＤＥＨＬ

	ＣＯＰＹコマンド等で使用する書き込みオープン


＃ＷＯＰＥＮＨ		＄２０９７	ＡＦＢＣＤＥＨＬ

	６４Ｋバイトを超えるファイルの書き込みモードのオープン


＃ＣＯＰＥＮ		＄２０９Ａ	ＡＦＢＣＤＥＨＬ

	使っていないディレクトリの検索


＃ＮＲＯＰＥＮ		＄２０９Ｄ	ＡＦＢＣＤＥＨＬ

	ワイルドカードに対応した次のファイルの読み込み用オープン

	ファイルの情報は(#DTADR),(#SIZE),(#EXADR),(#SIZEH),(#CLPS)に転送され、

	ゼロフラグをセットしてリターンする

	検索されるファイルが無い場合キャリフラグがセットされゼロフラグがリセッ

	トされリターンしそれ以外のエラーがあった場合はキャリフラグとゼロフラグ

	がセットされリターンする。


＃ＦＤＭＯＦＦ		＄２０Ａ０		なし

	フロッピーディスクのモーターを止める

	（通常は＃ＭＯＴＯＦＦを使って下さい。）


＃ＳＯＰＥＮ		＄２０Ａ３	ＡＦＢＣＤＥＨＬ

	最初のファイルの検索

	ファイルが見付かった場合はＨＬレジスタと(#FBAD)に発見したファイルのディ

	レクトリエントリの先頭アドレスがセットされる。

	検索されるファイルが無い場合キャリフラグがセットされゼロフラグがリセッ

	トされリターンしそれ以外のエラーがあった場合はキャリフラグとゼロフラグ

	がセットされリターンする。


＃ＳＯＰＥＮＸ		＄２０Ａ６	ＡＦＢＣＤＥＨＬ

	#SOPENとの違いはＦＡＴバッファを読み込まないこと


＃ＮＯＰＥＮ		＄２０Ａ９	ＡＦＢＣＤＥＨＬ

	次のファイルの検索

	ファイルが見付かった場合はＨＬレジスタと(#FBAD)に発見したファイルのディ

	レクトリエントリの先頭アドレスがセットされる。

	検索されるファイルが無い場合キャリフラグがセットされゼロフラグがリセッ

	トされリターンしそれ以外のエラーがあった場合はキャリフラグとゼロフラグ

	がセットされリターンする。


＃ＮＯＰＥＮＸ		＄２０ＡＣ	ＡＦＢＣＤＥＨＬ

	#NOPENとの違いはデバイスからＦＡＴバッファとディレクトリバッファを読み

	込まないこと


＃ＲＣＬＯＳＥ		＄２０ＡＦ	ＡＦ

	読み込み用クローズ。


＃ＷＣＬＯＳＥ		＄２０Ｂ２	ＡＦＢＣＤＥＨＬ

	書き込み用クローズ、ＦＡＴバッファをデバイスに書き込む


＃ＮＦＰＲＴ		＄２０Ｂ５	ＡＦＢＣＤＥＨＬ

	ＨＬレジスタの示すディレクトリエントリのファイル名をを表示する


＃ＲＤＦＡＴ		＄２０Ｂ８	ＡＦＢＣＤＥＨＬ

	(#FATPS)(#FATBF)に従ってデバイスからＦＡＴをＦＡＴバッファを読み込む。

	また、デバイスの自動判別も行う。


＃ＷＴＦＡＴ		＄２０ＢＢ	ＡＦＢＣＤＥＨＬ

	(#FATPS)(#FATBF)に従ってデバイスにＦＡＴバッファを書き込む。


＃ＷＴＤＩＲ		＄２０ＢＥ	ＡＦＢＣＤＥＨＬ

	(#FBPS)(#DIRBF)に従ってデバイスにディレクトリバッファを書き込む。ディレ

	クトリバッファの書き込みはこのルーチンか#WTDIRXを使う


＃ＷＴＤＩＲＸ		＄２０Ｃ１	ＡＦＢＣＤＥＨＬ

	(#IBFAD)+1 のインフォメーションブロックの内容を(#FBAD)に転送して(#FBPS)

	(#DIRBF)に従ってデバイスにディレクトリバッファを書き込む


＃ＥＮＤＣＬ		＄２０Ｃ４	ＡＦ

	ＤＥの示すクラスタ番号がデバイスの最大クラスタを超えているかチェックす

	る。超えているとキャリフラグをリセット、超えていなければキャリフラグを
				　　　￣￣￣￣
	セットしてリターンする。
	￣￣￣

＃ＰＲＮＴ０		＄２０Ｃ７	ＡＦ

	コントロールコードの場合でもＡレジスタの内容をアスキーコードとみなし表示

	する。


＃ＨＥＸＨＸ		＄２０ＣＡ	ＡＦ	ＤＥ

	Ａレジスタの１バイト１６進データをＤＥの示すアドレスへアスキーコードに

	変換して格納する。


＃ＨＥＸＨＬ		＄２０ＣＤ	ＡＦ	ＤＥ

	ＨＬレジスタの２バイト１６進データをＤＥの示すアドレスへアスキーコード

	に変換して格納する。


＃ＫＹＢＦＣ		＄２０Ｄ０	なし

	先行入力バッファをクリアする


＃ＫＹＢＦＳ		＄２０Ｄ３	ＡＦ

	Ａレジスタの内容を先行入力バッファにセットする


＃ＣＯＬＯＲ		＄２０Ｄ６	なし

	Ａレジスタの内容をアトリビュートバッファにセットする。


＃Ｓ１ＦＤ０		＄２０Ｄ９	なし

	Ａレジスタの内容を画面制御ポート（＄１ＦＤ０）にセットする


＃ＳＰＳＫ		＄２０ＤＣ	ＡＦ	ＤＥ

	ＤＥの示すアドレスがスペースでなくなるまでＤＥを増やす


＃ＳＰＳＥ		＄２０ＤＦ	ＡＦ	ＤＥ

	ＤＥの示すアドレスからスペースがあるまでＤＥを増やす


＃ＰＲＴＴＭＳ		＄２０Ｅ２	−

	Ｒｅｓｅｒｖｅｄ　Ｆｕｔｕｒｅ

	（ディレクトリ表示の時にタイムイタンプを表示させる）


＃ＳＥＴＴＭＳ		＄２０Ｅ５	−

	Ｒｅｓｅｒｖｅｄ　Ｆｕｔｕｒｅ

	（書き込みオープンをしたときにタイムスタンプを書き込む）


＃ＰＲＴＨＬＸ		＄２０Ｅ８	ＡＦ

	標準ではＨＬを１６進数４ケタで表示するルーチン（#PRTHLと同じ）だが

	拡張プログラム（ＰＲＤＥＣ）でＨＬを１０進数で表示するルーチンになる。


＃ＣＡＰ		＄２０ＥＢ	ＡＦ

	Ａレジスタの内容が英小文字の場合、英大文字に変換する。


＃ＣＩＮＩＴ		＄２０ＥＥ	−

	コマンドラインの初期化ルーチン


＃ＣＭＤＡＮＬ		＄２０Ｆ１	−

	コマンドラインのコマンドアナライズルーチン


＃ＥＸＣＭＤ		＄２０Ｆ４	−

	内部コマンドを増やす場合はこのジャンプアドレスを書き換える。


＃ＥＸＢＡＴ		＄２０Ｆ７	−

	バッチファイルの処理を強化する場合はこのジャンプアドレスを書き換える。


＃ＣＥＸＥ		＄２０ＦＡ	−

	外部コマンド＆バッチファイルの処理ルーチン。


＃ＣＤＩＲ		＄２０ＦＤ	ＡＦＢＣＤＥＨＬ

	ＤＥレジスタに文字列格納アドレスを入れて呼び出すとワイルドカード等に対

	応したＤＩＲになる。


eof
