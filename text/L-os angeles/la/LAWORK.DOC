-	-	-	-	-	-	-	-	-	-

	ＬＡのワークエリア一覧表

	Ｓ−ＯＳ互換ワークエリア

-	-	-	-	-	-	-	-	-	-


<シンボル名>		<アドレス>	<サイズ>

＃ＵＳＲ		＄１Ｆ７Ｅ	２バイト

	ＬＡをコールドスタートしたあとジャンプするアドレス


＃ＤＶＳＷ		＄１Ｆ７Ｄ	１バイト

		カレントドライブ（デフォルトデバイス）のドライブ名

		（Ｓ−ＯＳと仕様が違うが#DVSWはＳ−ＯＳでも直接アクセスしては
		  いけない仕様になっている）


＃ＬＰＳＷ		＄１Ｆ７Ｃ	１バイト

	Ｒｅｓｅｒｖｅｄ　Ｆｕｔｕｒｅ

	（＃ＰＲＩＮＴ等での出力をプリンタに出力するかどうかのフラグ）


＃ＰＲＣＮＴ		＄１Ｆ７Ａ	２バイト

	Ｒｅｓｅｒｖｅｄ　Ｆｕｔｕｒｅ

	（改行してから表示した文字数を格納したアドレスを示している）


＃ＸＹＡＤＲ		＄１Ｆ７８	２バイト

	カーソル座標が格納されているアドレスを示している


＃ＫＢＦＡＤ		＄１Ｆ７６	２バイト

	キー入力（＃ＧＥＴＬ）用のバッファアドレスを示している


＃ＩＢＦＡＤ		＄１Ｆ７４	２バイト

		ＬＡバイナリアトリビュートのアドレス

		書き込みオープン時、ビット０が１の時はＬＡバイナリ形式

		同時にインフォメーションブロックの先頭アドレス−１

		(#IBFAD)+1からディレクトリエントリと同様の３２バイトのインフォ

		メーションブロックとなる

			<オフセット>
			＋０		バイナリアトリビュート
	ｲﾝﾌｫﾒｰｼｮﾝﾌﾞﾛｯｸ	＋１〜＋８	ファイル名（プライマリ名）
			＋９〜＋11	拡張子
			＋12		属性
			＋13〜＋16	開始番地（アスキー形式で格納）
			＋17		ＬＡバイナリＩＤ
			＋18〜＋21	実行番地（アスキー形式で格納）
			＋22		０
			＋23〜＋24	ファイル作成時刻
			＋25〜＋26	ファイル作成日
			＋27〜＋28	ファイルの先頭クラスタ
			＋29〜＋32	ファイルのサイズ

＃ＳＩＺＥ		＄１Ｆ７２	２バイト

	ファイルサイズ下位１６ビット、上位１６ビットは＃ＳＩＺＥＨに格納されて

	いる。


＃ＤＴＡＤＲ		＄１Ｆ７０	２バイト

	ファイルの先頭アドレス


＃ＥＸＡＤＲ		＄１Ｆ６Ｅ	２バイト

	ファイルのエントリ（実行）アドレス


＃ＳＴＫＡＤ		＄１Ｆ６Ｃ	２バイト

	スタックアドレス


＃ＭＥＭＡＸ		＄１Ｆ６Ａ	２バイト

	ＬＡのアプリケーションが使用出来るメモリの上限


＃ＷＫＳＩＺ		＄１Ｆ６８	２バイト

	特殊ワークエリアのサイズ


＃ＤＩＲＮＯ		＄１Ｆ６７	１バイト

	ＬＡでは使用していない


＃ＭＸＴＲＫ		＄１Ｆ６６	１バイト

	使用しているフロッピーディスクの最大シリンダ数


＃ＤＴＢＵＦ		＄１Ｆ６４	２バイト

	デバイスのデータを読み書きする先頭アドレスが入っている。データバッファ

	のサイズは１０２４バイト


＃ＦＡＴＢＦ		＄１Ｆ６２	２バイト

	ＦＡＴを読み書きする先頭アドレスが入っている。

	ＦＡＴバッファのサイズは標準で２０４８バイト、

	常駐プログラムＤＢＥＸを常駐させると３０７２バイト


＃ＤＩＲＰＳ		＄１Ｆ６０	２バイト

	使用しているデバイスのディレクトリが入っている先頭レコード


＃ＦＡＴＰＳ		＄１Ｆ５Ｅ	２バイト

	使用しているデバイスのファイルアロケーションテーブル（ＦＡＴ）が入って

	いる先頭レコード


＃ＤＳＫ		＄１Ｆ５Ｄ	１バイト

	アクセスしようとするドライブ名が入る（書き換えは#CHGDRVを使うこと）


＃ＷＩＤＴＨ		＄１Ｆ５Ｃ	１バイト

	現在のスクリーンモード（桁数）


＃ＭＡＸＬＮ		＄１Ｆ５Ｂ	１バイト

	画面に表示できる最大行数


-	-	-	-	-	-	-	-	-	-

	Ｌ−ｏｓ　Ａｎｇｅｌｅｓ

	ＬＡオリジナルワークエリア

-	-	-	-	-	-	-	-	-	-


<シンボル名>		<アドレス>	<サイズ>

＃ＣＹＬ０		＄１Ｆ００	１バイト

	フロッピーディスクのドライブ０の現在のシリンダの位置

	不明の場合は＄ＦＦ


＃ＣＹＬ１		＄１Ｆ０１	１バイト

	フロッピーディスクのドライブ１の現在のシリンダの位置

	不明の場合は＄ＦＦ


＃ＣＹＬ２		＄１Ｆ０２	１バイト

	フロッピーディスクのドライブ２の現在のシリンダの位置

	不明の場合は＄ＦＦ


＃ＣＹＬ３		＄１Ｆ０３	１バイト

	フロッピーディスクのドライブ３の現在のシリンダの位置

	不明の場合は＄ＦＦ


＃ＤＲＩＶＥ		＄１Ｆ０４	１バイト

	ユニット番号

	（Ｘ１ではフロッピーの場合はフロッピーディスクドライブのドライブセレク

	トとヘッドセレクトのポート（＄０ＦＦＣ）の値としても使用している）


＃ＷＫ１ＦＤ０		＄１Ｆ０５	１バイト

	画面制御ポート（＄１ＦＤ０）の値


＃ＳＩＺＥＨ		＄１Ｆ０６	２バイト

	ファイルサイズの上位１６ビット

	（＃ＷＯＰＥＮでは従来のソフトとの互換の為に＃ＳＩＺＥＨに０を書き込む）


＃ＭＳＥＣ		＄１Ｆ０８	１バイト

	フロッピーディスクのセクタの数


＃ＩＳＥＣ		＄１Ｆ０９	１バイト

	ｖ１．３２からは使用していない

	フロッピーディスクの物理セクタのサイズ

	（１セクタ１０２４＝＄０４、５１２＝＄０２）


＃ＳＥＣＡＤＤ		＄１Ｆ０Ａ	２バイト

	フロッピーディスクのセクタの最小値を書いてあるアドレス


＃ＣＬＰＳ		＄１Ｆ０Ｃ	２バイト

	アクセスするクラスタの位置


＃ＧＣＡＤ		＄１Ｆ０Ｅ	２バイト

	＃ＦＧＥＴＣで使用するポインタ


＃ＧＣＬＮ		＄１Ｆ１０	２バイト

	＃ＦＧＥＴＣで使用するサイズ


＃ＧＣＥＨ		＄１Ｆ１２	１バイト

	＃ＦＧＥＴＣで使用する終了アドレスの上位８ビット−１の値


＃ＣＬＬＮ		＄１Ｆ１３	１バイト

	＃ＦＧＥＴＣで使用するバッファのクラスタ単位の長さ


＃ＦＢＰＳ		＄１Ｆ１４	２バイト

	アクセスしているファイルのディレクトリエントリのあるクラスタ番号

	ルートディレクトリの場合はレコード番号


＃ＦＢＡＤ		＄１Ｆ１６	２バイト

	アクセスしているファイルのディレクトリエントリのあるアドレス


＃ＦＢＣＮＴ		＄１Ｆ１８	１バイト

	ディレクトリバッファのカウンタ


＃ＷＩＬＤ		＄１Ｆ１９	１バイト

	ワイルドカードを使用しているかどうかのフラグ

	０なら使用していない、０以外なら使用している


＃ＦＩＬＥＮ		＄１Ｆ１Ａ	１バイト

	マッチしたファイルの数


＃ＤＩＲＦ		＄１Ｆ１Ｂ	１バイト

	ディレクトリフラグ

	ルートディレクトリの場合０，サブディレクトリの場合は０以外が入る


＃ＮＤＩＲＰ		＄１Ｆ１Ｃ	２バイト

	現在アクセスしているディレクトリのクラスタ番号

	０ならルートディレクトリ


＃ＤＩＲＢＦ		＄１Ｆ１Ｅ	２バイト

	ディレクトリバッファの先頭アドレスが入っている。サイズは１０２４バイト


＃ＤＲＤＡ		＄１Ｆ２０	２バイト

	物理セクタが１０２４バイトのフロッピーディスクの

	１クラスタ読み込みルーチンのアドレス


＃ＤＷＴＡ		＄１Ｆ２２	２バイト

	物理セクタが１０２４バイトのフロッピーディスクの

	１クラスタ書き込みルーチンのアドレス


＃ＤＲＤＷＡ		＄１Ｆ２４	２バイト

	物理セクタが５１２バイトのフロッピーディスクの

	１クラスタ読み込みルーチンのアドレス


＃ＤＷＴＷＡ		＄１Ｆ２６	２バイト

	物理セクタが５１２バイトのフロッピーディスクの

	１クラスタ書き込みルーチンのアドレス


＃ＭＯＴＯＦＦＡ	＄１Ｆ２８	２バイト

	フロッピーディスクの＃ＭＯＴＯＦＦルーチンのアドレス


＃ＧＮＣＬＡ		＄１Ｆ２Ａ	２バイト

	１２ビットＦＡＴの＃ＧＮＣＬルーチンが入っているアドレス


＃ＳＮＣＬＡ		＄１Ｆ２Ｃ	２バイト

	１２ビットＦＡＴの＃ＳＮＣＬルーチンが入っているアドレス


＃Ｍ２Ｄ		＄１Ｆ２Ｅ	２バイト

	２Ｄ（３６０ｋＢ）のフロッピーディスクのＤＰＢ用のデータの先頭１８バイ

	トが入っているアドレス


＃Ｍ２ＨＤ		＄１Ｆ３０	２バイト

	２ＨＤ（１．２ＭＢ）のフロッピーディスクのＤＰＢ用のデータの先頭１８バ

	イトが入っているアドレス


＃ＦＳＥＡ		＄１Ｆ３２	２バイト

	ファイルサーチルーチンが入っているアドレス


＃ＮＳＥＡ		＄１Ｆ３４	２バイト

	未使用ディレクトリサーチルーチンが入っているアドレス


＃ＦＡＴＢＦ１		＄１Ｆ３６	２バイト

	ＦＡＴバッファの位置の初期値


＃ＭＥＭＡＸ１		＄１Ｆ３８	２バイト

	＃ＭＥＭＡＸの位置の初期値


＃ＣＯＮＹＳ		＄１Ｆ３Ａ	２バイト

	コンソールＹ座標開始位置の入っているアドレス


＃ＣＯＮＹＥ		＄１Ｆ３Ｃ	２バイト

	コンソールＹ座標終了位置の入っているアドレス


＃ＣＯＮＸＳ		＄１Ｆ３Ｅ	２バイト

	コンソールＸ座標開始位置の入っているアドレス


＃ＣＯＮＸＥ		＄１Ｆ４０	２バイト

	コンソールＸ座標終了位置の入っているアドレス


＃ＣＯＬＯＲＦ		＄１Ｆ４２	２バイト

	カラーアトリビュートバッファの入っているアドレス


＃ＭＡＸＤＲＶ		＄１Ｆ４４	１バイト

	ＬＡで扱える最大のドライブ数。

	Ｘ１版の初期値は７（Ａ：〜Ｇ：）、MSX-DOS版の初期値は８（Ａ：〜Ｈ：）


＃ＧＣＢＵＦ		＄１Ｆ４５	１バイト

	＃ＦＧＥＴＣで使用するバッファの開始アドレス。


＃ＫＹＢＦＸ		＄１Ｆ４７	１バイト

	先行キー入力できる最大文字数


＃ＳＥＥＫＳＰ		＄１Ｆ４８	１バイト

	フロッピーディスクのステップレート（０〜３）


＃ＬＶＥＲ		＄１Ｆ４９	２バイト

	ＬＡのバージョンをＢＣＤで格納している。


eof
